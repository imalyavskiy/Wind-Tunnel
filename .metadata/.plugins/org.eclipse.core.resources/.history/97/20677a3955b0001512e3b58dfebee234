package org.demons.ctrl;

import org.zu.ardulink.Link;

public class WindSpeedDisplay {
	private Link link = Link.getDefaultInstance();
	
	private int[][] digitPin;
	
	public WindSpeedDisplay() {
		digitPin = new int[4][4];
		
		digitPin[3][3] = 28;
		digitPin[3][2] = 22;
		digitPin[3][1] = 24;
		digitPin[3][0] = 26;
		
		digitPin[2][3] = 36;
		digitPin[2][2] = 30;
		digitPin[2][1] = 32;
		digitPin[2][0] = 34;
		
		digitPin[1][3] = 29;
		digitPin[1][2] = 23;
		digitPin[1][1] = 25;
		digitPin[1][0] = 27;
		
		digitPin[0][3] = 37;
		digitPin[0][2] = 31;
		digitPin[0][1] = 33;
		digitPin[0][0] = 35;
	}
	
	public void displayDigit(int digit, int value) {
		for(int pin = 3; pin >= 0; pin--) {
			link.sendPowerPinSwitch(digitPin[digit][pin], value >> pin);
		}
	}
}
